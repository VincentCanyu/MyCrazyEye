# MyCrazyEye
堡垒机

CrazyEye是基于Python开发的一款简单易用的IT审计堡垒机,通过对原生ssh代码进行了部分修改，从而实现用户在登录堡垒机后，他所有的命令操作都将被实时抓取并写入审计日志，以供后期审计，目前CrazyEye主要实现了以下功能：

用户行为审计

底层使用原生ssh,不牺牲ssh使用体验,对用户操作无任何影响
支持对主机进行分组管理
可为运维人员分配指定服务器、指定账号的操作权限，即一个用户可以登录多少生产服务器，以及登录后有什么权限，都可以自如的控制
用户登录堡垒后的所有操作均可被记录下来以供日后审计.

主机批量操作

可对指定数量的机器进行批量命令、文件分发操作，可实时查看操作进度和结果

-----------------------------------------------------------------------------------------------
快速安装（for ubuntu）：

下载paramiko
下载shellinabox
下载python3.6
下载django 1.11.7

迁移数据库 ...... makemigrations/migrate

将代码下载到本地家目录下
在家目录下修改.bashrc文件:
      最底下两行写上 python3 s3CrazyEye/crazyeye_manager.py run
                    logout
                    
运行python3 manage.py runserver .........
创建超级用户和普通用户，即可以远程登录主机的运维人员。在管理页面添加需要远程连接的主机，用户可以访问的主机权限等数据。

修改template/web_ssh.html的href属性，你的ubuntu的ip和4200端口（如果你没有自定义端口的话，默认4200）
点击网页左侧的web ssh，跳转到基于浏览器的ssh连接。输入用户账密，进入交互程序。
也可以直接通过网页进行远程批量命令和文件分发操作（360浏览器对返回的数据，有时候不能正常显示）
